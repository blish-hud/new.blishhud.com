"use strict";(globalThis.webpackChunknew_blishhud_com=globalThis.webpackChunknew_blishhud_com||[]).push([[1212],{2697(e,t,s){s.r(t),s.d(t,{default:()=>l});var r=s(6540),o=s(4848);const a=[{id:"img_1",name:"Example Asset 1 (456011)",url:"https://assets.gw2dat.com/456011.png",type:"image"},{id:"img_2",name:"Example Asset 2 (1822111)",url:"https://assets.gw2dat.com/1822111.png",type:"image"},{id:"img_3",name:"Example Asset 3 (1822021)",url:"https://assets.gw2dat.com/1822021.png",type:"image"},{id:"img_4",name:"Example Asset 4 (63328)",url:"https://assets.gw2dat.com/63328.png",type:"image"},{id:"cdn_meta",name:"Asset CDN Metadata",url:"https://assets.gw2dat.com/metadata.gz",type:"binary"},{id:"repo_live",name:"Module Repo Listing",url:"https://pkgs.blishhud.com/packages.gz",type:"binary"},{id:"repo_prev",name:"Module Repo Prerelease",url:"https://pkgs.blishhud.com/preview-packages.gz",type:"binary"},{id:"ver_check",name:"Update Check",url:"https://versions.blishhud.com/all.json",type:"json"}];function i({state:e}){const t=(0,r.useMemo)(()=>{const t={display:"inline-block",padding:"2px 8px",borderRadius:999,fontSize:12,fontWeight:600,border:"1px solid var(--ifm-color-emphasis-300)",background:"var(--ifm-background-surface-color)"};return"success"===e?{...t,borderColor:"var(--ifm-color-success)",color:"var(--ifm-color-success)"}:"error"===e?{...t,borderColor:"var(--ifm-color-danger)",color:"var(--ifm-color-danger)"}:"loading"===e?{...t,borderColor:"var(--ifm-color-info)",color:"var(--ifm-color-info)"}:t},[e]),s="success"===e?"OK":"error"===e?"FAIL":"loading"===e?"...":"IDLE";return(0,o.jsx)("span",{style:t,children:s})}function n({def:e,result:t}){return(0,o.jsxs)("div",{style:{border:"1px solid var(--ifm-color-emphasis-300)",borderRadius:12,padding:12,background:"var(--ifm-background-surface-color)",display:"flex",flexDirection:"column",gap:8},children:[(0,o.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",gap:12,alignItems:"center"},children:[(0,o.jsx)("div",{style:{fontWeight:700,fontSize:14},children:e.name}),(0,o.jsx)("div",{style:{fontSize:12,opacity:.8},children:"loading"===t.state?"Testing\u2026":"idle"===t.state?"":`${t.ms}ms`})]}),(0,o.jsx)("div",{style:{fontSize:12,opacity:.7,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:e.url}),(0,o.jsxs)("div",{children:[(0,o.jsx)(i,{state:t.state}),"error"===t.state&&(0,o.jsxs)("span",{style:{marginLeft:8,fontSize:12,color:"var(--ifm-color-danger)"},children:[t.error," (Status: ",t.status,")"]})]}),"success"===t.state&&t.previewUrl&&(0,o.jsx)("div",{style:{marginTop:4,height:60,display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(0,0,0,0.05)",borderRadius:6},children:(0,o.jsx)("img",{src:t.previewUrl,alt:"Preview",style:{maxHeight:"100%",maxWidth:"100%",objectFit:"contain"}})})]})}function l(){const[e,t]=(0,r.useState)(!1),[s,i]=(0,r.useState)(!1),[l,c]=(0,r.useState)(()=>{const e={};return a.forEach(t=>{e[t.id]={state:"idle"}}),e});const d=Object.values(l).some(e=>"idle"!==e.state&&"loading"!==e.state);return(0,o.jsxs)("div",{style:{display:"grid",gap:12},children:[(0,o.jsxs)("div",{style:{border:"1px solid var(--ifm-color-emphasis-300)",borderRadius:12,padding:12,background:"var(--ifm-background-surface-color)"},children:[(0,o.jsx)("div",{style:{fontWeight:800,marginBottom:6},children:"Connectivity & Asset Troubleshooter"}),(0,o.jsx)("div",{style:{fontSize:14,opacity:.85,marginBottom:10},children:"Check your connection to Blish HUD servers and asset CDNs."}),(0,o.jsxs)("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:[(0,o.jsx)("button",{onClick:async function(){t(!0),i(!1);const e={};a.forEach(t=>{e[t.id]={state:"loading"}}),c(e);const s=a.map(async e=>{const t=await async function(e){const t=performance.now();try{const s=await fetch(e.url,{method:"GET",cache:"no-store"}),r=Math.round(performance.now()-t);if(!s.ok)return{state:"error",status:s.status,error:s.statusText||"Request failed",ms:r};let o;if("image"===e.type){const e=await s.blob();o=URL.createObjectURL(e)}else await s.blob();return{state:"success",status:s.status,ms:r,previewUrl:o}}catch(s){const e=Math.round(performance.now()-t);return{state:"error",error:s?.message||"Network error (fetch threw)",ms:e}}}(e);return{id:e.id,res:t}}),r=await Promise.all(s),o={};r.forEach(e=>{o[e.id]=e.res}),c(o),t(!1)},disabled:e,style:{padding:"10px 16px",borderRadius:10,border:"1px solid var(--ifm-color-primary)",background:e?"var(--ifm-color-emphasis-200)":"var(--ifm-color-primary)",color:e?"var(--ifm-font-color-base)":"white",fontWeight:700,cursor:e?"not-allowed":"pointer",flex:"1 1 auto",maxWidth:"200px"},children:e?"Testing...":"Run Network Test"}),d&&(0,o.jsx)("button",{onClick:function(){const e=function(e){const t=[`[Network Health Check Report](https://blishhud.com/docs/user/tools/network-troubleshooting) - <t:${Math.floor(Date.now()/1e3)}:R>`];return t.push(""),a.forEach(s=>{const r=e[s.id];let o="\u26aa",a=`**${s.name}**\nStatus: Pending`;"success"===r.state?(o="\u2705",a=`**${s.name}**\nLatency: \`${r.ms}ms\` | Status: \`${r.status}\``):"error"===r.state?(o="\u274c",a=`**${s.name}**\nLatency: \`${r.ms}ms\` | Status: \`${r.status??"N/A"}\`\n> Error: ${r.error}`):"idle"===r.state&&(o="\u26aa",a=`**${s.name}** (Skipped)`),t.push(`${o} ${a}`),t.push(`<${s.url}>`),t.push("")}),t.join("\n")}(l);navigator.clipboard.writeText(e).then(()=>{i(!0),setTimeout(()=>i(!1),2e3)})},style:{padding:"10px 16px",borderRadius:10,border:"1px solid var(--ifm-color-emphasis-300)",background:"transparent",color:"var(--ifm-font-color-base)",fontWeight:700,cursor:"pointer"},children:s?"Copied!":"Copy Test Results"})]})]}),(0,o.jsx)("div",{style:{display:"grid",gap:12,gridTemplateColumns:"repeat(auto-fill, minmax(280px, 1fr))"},children:a.map(e=>(0,o.jsx)(n,{def:e,result:l[e.id]},e.id))})]})}}}]);