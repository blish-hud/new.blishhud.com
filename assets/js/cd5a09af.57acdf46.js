"use strict";(globalThis.webpackChunknew_blishhud_com=globalThis.webpackChunknew_blishhud_com||[]).push([[868,6087],{2153(e,t,s){s.r(t),s.d(t,{assets:()=>c,contentTitle:()=>a,default:()=>h,frontMatter:()=>n,metadata:()=>l,toc:()=>d});var r=s(4848),o=s(8453),i=s(3987);const n={id:"api-troubleshooting",title:"API Troubleshooting",description:"Use this interactive tool to test your Guild Wars 2 API key. Diagnose issues with permissions, invalid tokens, or API connectivity in real-time."},a=void 0,l={id:"user/tools/api-troubleshooting",title:"API Troubleshooting",description:"Use this interactive tool to test your Guild Wars 2 API key. Diagnose issues with permissions, invalid tokens, or API connectivity in real-time.",source:"@site/docs/user/tools/api-token-troubleshooting.mdx",sourceDirName:"user/tools",slug:"/user/tools/api-troubleshooting",permalink:"/docs/user/tools/api-troubleshooting",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{id:"api-troubleshooting",title:"API Troubleshooting",description:"Use this interactive tool to test your Guild Wars 2 API key. Diagnose issues with permissions, invalid tokens, or API connectivity in real-time."},sidebar:"UserGuides",previous:{title:"RTSS shows overlapping OSD",permalink:"/docs/user/troubleshooting/rtss-osd-overlapping"}},c={},d=[{value:"API Key Troubleshooting",id:"api-key-troubleshooting",level:2},{value:"Guild Wars 2 API Stability",id:"guild-wars-2-api-stability",level:2}];function u(e){const t={a:"a",admonition:"admonition",h2:"h2",li:"li",p:"p",ul:"ul",...(0,o.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.p,{children:"If you're encountering issues with adding your Guild Wars 2 API key to Blish HUD or are having issues loading an existing API key, this tool can help you identify if there is an issue with the Guild Wars 2 API."}),"\n",(0,r.jsx)(t.h2,{id:"api-key-troubleshooting",children:"API Key Troubleshooting"}),"\n",(0,r.jsx)(i.default,{}),"\n",(0,r.jsx)(t.h2,{id:"guild-wars-2-api-stability",children:"Guild Wars 2 API Stability"}),"\n",(0,r.jsx)(t.p,{children:"The Guild Wars 2 API has been known to experience long periods of instability.  You can check any of the following status pages for more information:"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsx)(t.li,{children:(0,r.jsx)(t.a,{href:"https://status.gw2efficiency.com/",children:"Gw2Efficiency API Status"})}),"\n",(0,r.jsx)(t.li,{children:(0,r.jsx)(t.a,{href:"https://en.gw2treasures.com/status/api?period=24h",children:"gw2treasures.com API Status"})}),"\n",(0,r.jsx)(t.li,{children:(0,r.jsx)(t.a,{href:"https://status-api.aleeva.io/",children:"Aleeva API Status"})}),"\n"]}),"\n",(0,r.jsx)("br",{}),"\n",(0,r.jsx)(t.admonition,{title:"Still need help?",type:"info",children:(0,r.jsxs)(t.p,{children:["Join our Discord and share a screenshot of your API results in our ",(0,r.jsx)(t.a,{href:"https://discord.gg/qJdUhdG",children:"#\ud83d\udca2help"})," channel."]})})]})}function h(e={}){const{wrapper:t}={...(0,o.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(u,{...e})}):u(e)}},3987(e,t,s){s.r(t),s.d(t,{default:()=>c});var r=s(6540),o=s(4848);const i="https://api.guildwars2.com/v2";async function n(e){const t=performance.now();try{const s=await fetch(e,{method:"GET",headers:{Accept:"application/json"}}),r=Math.round(performance.now()-t),o=await async function(e){const t=await e.text();if(!t)return null;try{return JSON.parse(t)}catch{return t}}(s);if(!s.ok){const e=o&&"object"==typeof o&&(o.text||o.error||o.message)||("string"==typeof o?o:"")||s.statusText||"Request failed";return{state:"error",status:s.status,error:String(e),details:o,ms:r}}return{state:"success",status:s.status,data:o,ms:r}}catch(s){const e=Math.round(performance.now()-t);return{state:"error",error:s?.message||"Network error (fetch threw)",details:s,ms:e}}}function a({level:e}){const t=(0,r.useMemo)(()=>{const t={display:"inline-block",padding:"2px 8px",borderRadius:999,fontSize:12,fontWeight:600,border:"1px solid var(--ifm-color-emphasis-300)",background:"var(--ifm-background-surface-color)"};return"success"===e?{...t,borderColor:"var(--ifm-color-success)",color:"var(--ifm-color-success)"}:"warn"===e?{...t,borderColor:"var(--ifm-color-warning)",color:"var(--ifm-color-warning)"}:"error"===e?{...t,borderColor:"var(--ifm-color-danger)",color:"var(--ifm-color-danger)"}:t},[e]),s="success"===e?"OK":"warn"===e?"WARN":"error"===e?"ERROR":"INFO";return(0,o.jsx)("span",{style:t,children:s})}function l({name:e,result:t}){const s="tokeninfo"===e?"/tokeninfo":"account"===e?"/account":"characters"===e?"/characters?ids=all":e;return(0,o.jsxs)("div",{style:{border:"1px solid var(--ifm-color-emphasis-300)",borderRadius:12,padding:12,background:"var(--ifm-background-surface-color)"},children:[(0,o.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",gap:12,alignItems:"center"},children:[(0,o.jsx)("div",{style:{fontWeight:700},children:s}),(0,o.jsx)("div",{style:{fontSize:12,opacity:.8},children:"loading"===t.state?"Loading\u2026":"idle"===t.state?"Idle":`${t.ms}ms`})]}),(0,o.jsxs)("div",{style:{marginTop:8,fontSize:14},children:["idle"===t.state&&(0,o.jsx)("div",{children:"Not run."}),"loading"===t.state&&(0,o.jsx)("div",{children:"Request in progress\u2026"}),"success"===t.state&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("strong",{children:"Status:"})," ",t.status]}),(0,o.jsxs)("details",{style:{marginTop:8},children:[(0,o.jsx)("summary",{style:{cursor:"pointer"},children:"Response JSON"}),(0,o.jsx)("pre",{style:{marginTop:8,whiteSpace:"pre-wrap"},children:JSON.stringify(t.data,null,2)})]})]}),"error"===t.state&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("strong",{children:"Status:"})," ",t.status??"\u2014"]}),(0,o.jsxs)("div",{style:{marginTop:6},children:[(0,o.jsx)("strong",{children:"Error:"})," ",t.error]}),void 0!==t.details&&(0,o.jsxs)("details",{style:{marginTop:8},children:[(0,o.jsx)("summary",{style:{cursor:"pointer"},children:"Error details"}),(0,o.jsx)("pre",{style:{marginTop:8,whiteSpace:"pre-wrap"},children:JSON.stringify(t.details,null,2)})]})]})]})]})}function c(){const[e,t]=(0,r.useState)(""),[s,c]=(0,r.useState)(!1),[d,u]=(0,r.useState)({tokeninfo:{state:"idle"},account:{state:"idle"},characters:{state:"idle"}}),h=function(e){const t=e.tokeninfo,s=e.account,r=e.characters,o="error"===t.state||"success"===t.state?t.status:void 0,i="error"===s.state||"success"===s.state?s.status:void 0,n="error"===r.state||"success"===r.state?r.status:void 0;if([t,s,r].every(e=>"idle"===e.state))return{level:"info",title:"Run the checks",bullets:["Paste a key and click Run checks."]};if([t,s,r].some(e=>"loading"===e.state))return{level:"info",title:"Checking\u2026",bullets:["Waiting for responses."]};if("error"===t.state)return 401===o||403===o?{level:"error",title:"The API key is not accepted",bullets:["This usually means the key is wrong, revoked, or expired.","Double-check you pasted the full key (no extra spaces).","Generate a new key and try again."]}:{level:"error",title:"Token validation failed",bullets:["The tokeninfo endpoint didn\u2019t return a valid response.","If this is a network/CORS issue, try another browser or disable blocking extensions.","If the Guild Wars 2 API is down, retry later."]};if("success"===t.state&&"error"===s.state)return 401===i||403===i||500===i?{level:"warn",title:"Key is valid, but can\u2019t access /account",bullets:["Key looks real (tokeninfo succeeded), but /account didn't load correctly."]}:{level:"warn",title:"Key is valid, but /account errored",bullets:["Token is accepted, but /account request failed for another reason.","Check the error details shown below.","Retry; if it persists, it may be a transient API issue that you'll need to wait until it resolves."]};if("success"===s.state&&"error"===r.state)return 401===n||403===n?{level:"warn",title:"Account works, but characters are forbidden",bullets:["Your key can read /account but not /characters.","Most common cause: missing 'characters' permission on the key.","Fix: re-create the key and enable the characters permission.","Retry; if it persists, it may be a transient API issue that you'll need to wait until it resolves."]}:{level:"warn",title:"Account works, but /characters errored",bullets:["Key is valid and can read /account, but /characters request failed.","Check the error details shown below.","Retry; if it persists, it may be a transient API issue that you'll need to wait until it resolves."]};if("success"===t.state&&"success"===s.state&&"success"===r.state){const e=Array.isArray(r.data)?r.data.length:void 0;return{level:"success",title:"API key looks healthy",bullets:["tokeninfo, account, and characters all succeeded.",void 0!==e?`Characters returned: ${e}`:"Characters returned successfully."]}}return{level:"info",title:"Mixed results",bullets:["Some calls succeeded and some failed\u2014use the per-endpoint details below."]}}(d);const p=e.trim().length>0&&!s;return(0,o.jsxs)("div",{style:{display:"grid",gap:12},children:[(0,o.jsxs)("div",{style:{border:"1px solid var(--ifm-color-emphasis-300)",borderRadius:12,padding:12,background:"var(--ifm-background-surface-color)"},children:[(0,o.jsx)("div",{style:{fontWeight:800,marginBottom:6},children:"API Key Troubleshooter"}),(0,o.jsx)("div",{style:{fontSize:14,opacity:.85,marginBottom:10},children:"Enter your Guild Wars 2 API Key."}),(0,o.jsxs)("div",{style:{display:"flex",gap:8,flexWrap:"wrap",alignItems:"center"},children:[(0,o.jsx)("input",{type:"text",value:e,onChange:e=>t(e.target.value),placeholder:"Paste API key\u2026",autoComplete:"off",spellCheck:!1,style:{flex:"1 1 320px",padding:"10px 12px",borderRadius:10,border:"1px solid var(--ifm-color-emphasis-300)",background:"var(--ifm-background-color)",color:"var(--ifm-font-color-base)"}}),(0,o.jsx)("button",{onClick:async function(){const t=e.trim();if(!t)return;c(!0),u({tokeninfo:{state:"loading"},account:{state:"loading"},characters:{state:"loading"}});const s=function(e){const t=encodeURIComponent(e.trim());return{tokeninfo:`${i}/tokeninfo?access_token=${t}`,account:`${i}/account?access_token=${t}`,characters:`${i}/characters?ids=all&access_token=${t}`}}(t),[r,o,a]=await Promise.all([n(s.tokeninfo),n(s.account),n(s.characters)]);u({tokeninfo:(r.state,r),account:(o.state,o),characters:(a.state,a)}),c(!1)},disabled:!p,style:{padding:"10px 12px",borderRadius:10,border:"1px solid var(--ifm-color-primary)",background:p?"var(--ifm-color-primary)":"var(--ifm-color-emphasis-200)",color:p?"white":"var(--ifm-font-color-base)",fontWeight:700,cursor:p?"pointer":"not-allowed"},children:s?"Running\u2026":"Run checks"}),(0,o.jsx)("button",{onClick:function(){t(""),c(!1),u({tokeninfo:{state:"idle"},account:{state:"idle"},characters:{state:"idle"}})},disabled:s&&e.trim().length>0,style:{padding:"10px 12px",borderRadius:10,border:"1px solid var(--ifm-color-emphasis-300)",background:"transparent",color:"var(--ifm-font-color-base)",fontWeight:700,cursor:s?"not-allowed":"pointer"},children:"Reset"})]})]}),(0,o.jsxs)("div",{style:{border:"1px solid var(--ifm-color-emphasis-300)",borderRadius:12,padding:12,background:"var(--ifm-background-surface-color)"},children:[(0,o.jsxs)("div",{style:{display:"flex",gap:10,alignItems:"center"},children:[(0,o.jsx)(a,{level:h.level}),(0,o.jsx)("div",{style:{fontWeight:800},children:h.title})]}),(0,o.jsx)("ul",{style:{marginTop:8,marginBottom:0},children:h.bullets.map((e,t)=>(0,o.jsx)("li",{style:{marginTop:6},children:e},t))})]}),(0,o.jsxs)("div",{style:{display:"grid",gap:12,gridTemplateColumns:"repeat(auto-fit, minmax(260px, 1fr))"},children:[(0,o.jsx)(l,{name:"tokeninfo",result:d.tokeninfo}),(0,o.jsx)(l,{name:"account",result:d.account}),(0,o.jsx)(l,{name:"characters",result:d.characters})]})]})}},8453(e,t,s){s.d(t,{R:()=>n,x:()=>a});var r=s(6540);const o={},i=r.createContext(o);function n(e){const t=r.useContext(i);return r.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:n(e.components),r.createElement(i.Provider,{value:t},e.children)}}}]);